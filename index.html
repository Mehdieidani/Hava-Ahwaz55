<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
<style>
  body {
    font-family: sans-serif;
    background: #0077b6;
    color: #fff;
    margin: 0;
    padding: 0;
    direction: rtl;
  }
  header {
    background: linear-gradient(to left, #023e8a, #0096c7);
    padding: 1rem;
    text-align: center;
    font-size: 1.8rem;
    font-weight: bold;
    position: relative;
  }
  #language-toggle {
    position: absolute;
    left: 1rem;
    top: 1rem;
    background: #ff5722;
    border: none;
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
  }
  #search-container {
    padding: 1rem;
    text-align: center;
  }
  #searchInput {
    padding: 0.5rem;
    width: 70%;
    border-radius: 5px;
    border: none;
    font-size: 1rem;
    max-width: 400px;
  }
  #get-location {
    margin-left: 10px;
    padding: 0.5rem 1rem;
    border-radius: 5px;
    border: none;
    background: #ffb703;
    color: #023047;
    cursor: pointer;
    font-weight: bold;
  }
  #forecast {
    max-width: 900px;
    margin: 1rem auto;
    padding: 0 1rem;
  }
  .city-header {
    font-size: 1.6rem;
    margin-bottom: 0.5rem;
    position: relative;
    padding-left: 40px;
    user-select: none;
  }
  .star {
    position: absolute;
    left: 0;
    top: 0;
    font-size: 2.2rem;
    color: gold;
    cursor: pointer;
    user-select: none;
  }
  .day {
    background: #023047;
    border-radius: 10px;
    margin-bottom: 1rem;
    padding: 1rem;
  }
  .day-section {
    background: #0077b6;
    margin-top: 10px;
    border-radius: 8px;
    padding: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #fffbf5;
  }
  .day-section div {
    flex: 1;
    text-align: center;
  }
  .day-section img {
    width: 72px;
    height: 72px;
    vertical-align: middle;
  }
  #comments-section {
    max-width: 900px;
    margin: 2rem auto;
    background: #023047;
    border-radius: 8px;
    padding: 1rem;
  }
  #commentInput {
    width: 100%;
    height: 80px;
    border-radius: 5px;
    border: none;
    padding: 0.5rem;
    resize: vertical;
    font-size: 1rem;
  }
  #submitComment {
    margin-top: 0.5rem;
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 5px;
    background: #ffb703;
    color: #023047;
    cursor: pointer;
    font-weight: bold;
  }
  #commentsContainer {
    margin-top: 1rem;
    max-height: 200px;
    overflow-y: auto;
    color: #fff;
  }
  .comment {
    background: #0096c7;
    padding: 0.6rem;
    border-radius: 5px;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    word-break: break-word;
  }
  footer {
    text-align: center;
    padding: 1rem;
    color: #ddd;
    background: #010a13;
    margin-top: 2rem;
  }
  a {
    color: #ffb703;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>
<header>
  <div id="header-title">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¢Ø¨â€ŒÙˆÙ‡ÙˆØ§</div>
  <button id="language-toggle">AR</button>
</header>

<div id="search-container">
  <input type="text" id="searchInput" placeholder="Ù†Ø§Ù… Ø´Ù‡Ø± ÛŒØ§ Ø±ÙˆØ³ØªØ§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..." />
  <button id="get-location">ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ù†</button>
</div>

<div id="forecast"></div>

<div id="comments-section">
  <h3 id="comments-title">Ù†Ø¸Ø±Ø§Øª Ùˆ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª</h3>
  <textarea id="commentInput" placeholder="Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
  <br />
  <button id="submitComment">Ø§Ø±Ø³Ø§Ù„</button>
  <div id="commentsContainer"></div>
</div>

<footer>
  ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§: <a href="tel:09332356547">09332356547</a> |
  Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…: <a href="https://instagram.com/mehdi.eidani" target="_blank">@mehdi.eidani</a> |
  Ø§ÛŒÙ…ÛŒÙ„: <a href="mailto:mehdi1eidani@gmail.com">mehdi1eidani@gmail.com</a><br />
  ØªÙ…Ø§Ù… Ø­Ù‚ÙˆÙ‚ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Mehdi Eidani Ø§Ø³Øª
</footer>

<script>
const apiKey = "dc9c93f51cdd375d459483c2a9f86d88";

const langToggle = document.getElementById("language-toggle");
const headerTitle = document.getElementById("header-title");
const searchInput = document.getElementById("searchInput");
const forecastDiv = document.getElementById("forecast");
const getLocationBtn = document.getElementById("get-location");
const commentInput = document.getElementById("commentInput");
const submitCommentBtn = document.getElementById("submitComment");
const commentsContainer = document.getElementById("commentsContainer");
const commentsTitle = document.getElementById("comments-title");

let lang = "fa";

const translations = {
  fa: {
    header: "Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¢Ø¨â€ŒÙˆÙ‡ÙˆØ§",
    placeholder: "Ù†Ø§Ù… Ø´Ù‡Ø± ÛŒØ§ Ø±ÙˆØ³ØªØ§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...",
    locationBtn: "ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ù†",
    commentsTitle: "Ù†Ø¸Ø±Ø§Øª Ùˆ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª",
    commentPlaceholder: "Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...",
    sendBtn: "Ø§Ø±Ø³Ø§Ù„",
    alertEmptyComment: "Ù„Ø·ÙØ§ ÛŒÚ© Ù†Ø¸Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.",
    alertCommentSaved: "Ù†Ø¸Ø± Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯.",
    errorFetch: "â— Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§ØªØŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.",
    wind: "Ø¨Ø§Ø¯",
    tempMax: "Ø¯Ù…Ø§ÛŒ Ø¨ÛŒØ´ÛŒÙ†Ù‡ (Ø±ÙˆØ²)",
    tempMin: "Ø¯Ù…Ø§ÛŒ Ú©Ù…ÛŒÙ†Ù‡ (Ø´Ø¨)",
    favoriteAdded: "Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.",
    favoriteRemoved: "Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø­Ø°Ù Ø´Ø¯.",
    humidity: "Ø±Ø·ÙˆØ¨Øª",
    pressure: "ÙØ´Ø§Ø±",
    status: "ÙˆØ¶Ø¹ÛŒØª",
    hour: "Ø³Ø§Ø¹Øª",
    temp: "Ø¯Ù…Ø§",
    cityPlaceholder: "Ù†Ø§Ù… Ø´Ù‡Ø± ÛŒØ§ Ø±ÙˆØ³ØªØ§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...",
    favoriteCityTitle: "Ø´Ù‡Ø± Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯:",
    favoriteBtnTitle: "Ø³ØªØ§Ø±Ù‡ Ø¨Ø±Ø§ÛŒ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒ",
  },
  ar: {
    header: "ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø·Ù‚Ø³",
    placeholder: "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø£Ùˆ Ø§Ù„Ù‚Ø±ÙŠØ©...",
    locationBtn: "ğŸ“ Ù…ÙˆÙ‚Ø¹ÙŠ",
    commentsTitle: "Ø¢Ø±Ø§Ø¡ ÙˆÙ…Ù„Ø§Ø­Ø¸Ø§Øª",
    commentPlaceholder: "Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§...",
    sendBtn: "Ø¥Ø±Ø³Ø§Ù„",
    alertEmptyComment: "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªØ¹Ù„ÙŠÙ‚.",
    alertCommentSaved: "ØªÙ… Ø­ÙØ¸ ØªØ¹Ù„ÙŠÙ‚Ùƒ.",
    errorFetch: "â— Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",
    wind: "Ø§Ù„Ø±ÙŠØ§Ø­",
    tempMax: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø¹Ø¸Ù…Ù‰ (Ù†Ù‡Ø§Ø±Ù‹Ø§)",
    tempMin: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„ØµØºØ±Ù‰ (Ù„ÙŠÙ„Ù‹Ø§)",
    favoriteAdded: "Ø£ÙØ¶ÙŠÙ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø©.",
    favoriteRemoved: "ØªÙ… Ø§Ù„Ø­Ø°Ù Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©.",
    humidity: "Ø§Ù„Ø±Ø·ÙˆØ¨Ø©",
    pressure: "Ø§Ù„Ø¶ØºØ·",
    status: "Ø§Ù„Ø­Ø§Ù„Ø©",
    hour: "Ø§Ù„Ø³Ø§Ø¹Ø©",
    temp: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©",
    cityPlaceholder: "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø£Ùˆ Ø§Ù„Ù‚Ø±ÙŠØ©...",
    favoriteCityTitle: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©:",
    favoriteBtnTitle: "Ù†Ø¬Ù…Ø© Ù„Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©",
  }
};

function windDirection(deg) {
  const directions = lang === "fa"
    ? ["Ø´Ù…Ø§Ù„", "Ø´Ù…Ø§Ù„â€ŒØ´Ø±Ù‚", "Ø´Ø±Ù‚", "Ø¬Ù†ÙˆØ¨â€ŒØ´Ø±Ù‚", "Ø¬Ù†ÙˆØ¨", "Ø¬Ù†ÙˆØ¨â€ŒØºØ±Ø¨", "ØºØ±Ø¨", "Ø´Ù…Ø§Ù„â€ŒØºØ±Ø¨"]
    : ["Ø´Ù…Ø§Ù„", "Ø´Ù…Ø§Ù„ Ø´Ø±Ù‚", "Ø´Ø±Ù‚", "Ø¬Ù†ÙˆØ¨ Ø´Ø±Ù‚", "Ø¬Ù†ÙˆØ¨", "Ø¬Ù†ÙˆØ¨ ØºØ±Ø¨", "ØºØ±Ø¨", "Ø´Ù…Ø§Ù„ ØºØ±Ø¨"];
  return directions[Math.round(deg / 45) % 8];
}

function toggleLanguage() {
  lang = lang === "fa" ? "ar" : "fa";
  langToggle.textContent = lang === "fa" ? "AR" : "FA";
  headerTitle.textContent = translations[lang].header;
  searchInput.placeholder = translations[lang].placeholder;
  getLocationBtn.textContent = translations[lang].locationBtn;
  commentsTitle.textContent = translations[lang].commentsTitle;
  commentInput.placeholder = translations[lang].commentPlaceholder;
  submitCommentBtn.textContent = translations[lang].sendBtn;
  // Ø§Ú¯Ø± Ø´Ù‡Ø±ÛŒ Ù‡Ø³Øª Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†
  if (searchInput.value.trim() !== "") {
    fetchWeather(searchInput.value.trim());
  }
  renderFavoriteStar();
}

langToggle.addEventListener("click", toggleLanguage);

function saveFavoriteCity(city) {
  localStorage.setItem("favorite_city", city);
}

function getFavoriteCity() {
  return localStorage.getItem("favorite_city") || null;
}

function removeFavoriteCity() {
  localStorage.removeItem("favorite_city");
}

function renderFavoriteStar() {
  const city = searchInput.value.trim();
  const star = document.querySelector(".city-header .star");
  if (!star) return;
  if (city && getFavoriteCity() === city) {
    star.textContent = "â˜…";
    star.title = translations[lang].favoriteBtnTitle + " (Ø­Ø°Ù)";
  } else {
    star.textContent = "â˜†";
    star.title = translations[lang].favoriteBtnTitle + " (Ø§ÙØ²ÙˆØ¯Ù†)";
  }
}

function toggleFavoriteCity(starEl) {
  const city = searchInput.value.trim();
  if (!city) return alert(lang === "fa" ? "Ù„Ø·ÙØ§ Ù†Ø§Ù… Ø´Ù‡Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯." : "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©.");
  if (getFavoriteCity() === city) {
    removeFavoriteCity();
    starEl.textContent = "â˜†";
    alert(translations[lang].favoriteRemoved);
  } else {
    saveFavoriteCity(city);
    starEl.textContent = "â˜…";
    alert(translations[lang].favoriteAdded);
  }
}

async function fetchWeather(city) {
  forecastDiv.innerHTML = lang === "fa" ? "Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª..." : "Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...";
  try {
    const res = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&units=metric&lang=${lang}`);
    const data = await res.json();
    if (!data.list) throw new Error();
    searchInput.value = data.city.name;
    displayForecast(data.list);
  } catch {
    forecastDiv.innerHTML = translations[lang].errorFetch;
  }
}

function displayForecast(list) {
  // Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø±ÙˆØ²
  const days = {};
  list.forEach(item => {
    const day = item.dt_txt.split(" ")[0];
    if (!days[day]) days[day] = [];
    days[day].push(item);
  });

  forecastDiv.innerHTML = "";

  // Ø¹Ù†ÙˆØ§Ù† Ø´Ù‡Ø± Ø¨Ø§ Ø³ØªØ§Ø±Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒ
  const cityName = searchInput.value.trim();
  const favStar = getFavoriteCity() === cityName ? "â˜…" : "â˜†";

  const cityHeader = document.createElement("div");
  cityHeader.className = "city-header";
  cityHeader.innerHTML = `
    ${cityName}
    <span class="star" title="${translations[lang].favoriteBtnTitle}">${favStar}</span>
  `;
  forecastDiv.appendChild(cityHeader);

  // Ø³ØªØ§Ø±Ù‡ Ú©Ù„ÛŒÚ©
  cityHeader.querySelector(".star").addEventListener("click", function(){
    toggleFavoriteCity(this);
  });

  Object.keys(days).slice(0, 5).forEach(day => {
    const dayItems = days[day];
    // Ø¨ÛŒØ´ÛŒÙ†Ù‡ Ø¯Ù…Ø§ Ø¯Ø± Ø±ÙˆØ² (Ø­Ø¯ÙˆØ¯ 06:00 ØªØ§ 18:00)
    const dayTemps = dayItems.filter(i => {
      const hour = +i.dt_txt.split(" ")[1].slice(0,2);
      return hour >= 6 && hour < 18;
    });
    const maxDayTemp = dayTemps.length ? Math.max(...dayTemps.map(i => i.main.temp_max)) : null;
    const dayIcon = dayTemps.length ? dayTemps[0].weather[0].icon : "01d";
    const dayDesc = dayTemps.length ? dayTemps[0].weather[0].description : "";

    // Ú©Ù…ÛŒÙ†Ù‡ Ø¯Ù…Ø§ Ø¯Ø± Ø´Ø¨ (18:00 ØªØ§ 06:00 Ø±ÙˆØ² Ø¨Ø¹Ø¯)
    const nightTemps = dayItems.filter(i => {
      const hour = +i.dt_txt.split(" ")[1].slice(0,2);
      return hour >= 18 || hour < 6;
    });
    const minNightTemp = nightTemps.length ? Math.min(...nightTemps.map(i => i.main.temp_min)) : null;
    const nightIcon = nightTemps.length ? nightTemps[0].weather[0].icon : "01n";
    const nightDesc = nightTemps.length ? nightTemps[0].weather[0].description : "";

    const dayDiv = document.createElement("div");
    dayDiv.className = "day";

    dayDiv.innerHTML = `
      <div><strong>${lang === "fa" ? "Ø±ÙˆØ²" : "Ø§Ù„ÙŠÙˆÙ…"}: ${day}</strong></div>
      <div class="day-section" title="${dayDesc}">
        <div>
          <div>${translations[lang].tempMax}</div>
          <img src="https://openweathermap.org/img/wn/${dayIcon}@2x.png" alt="${dayDesc}" />
          <div>${maxDayTemp !== null ? maxDayTemp.toFixed(1) + "Â°C" : "-"}</div>
          <div>${translations[lang].status}: ${dayDesc}</div>
        </div>
      </div>
      <div class="day-section" title="${nightDesc}">
        <div>
          <div>${translations[lang].tempMin}</div>
          <img src="https://openweathermap.org/img/wn/${nightIcon}@2x.png" alt="${nightDesc}" />
          <div>${minNightTemp !== null ? minNightTemp.toFixed(1) + "Â°C" : "-"}</div>
          <div>${translations[lang].status}: ${nightDesc}</div>
        </div>
      </div>
    `;

    forecastDiv.appendChild(dayDiv);
  });
}

// Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø§ Enter
searchInput.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    const city = searchInput.value.trim();
    if (city) fetchWeather(city);
  }
});

// Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ù†
getLocationBtn.addEventListener("click", () => {
  if (!navigator.geolocation) {
    alert(lang === "fa" ? "Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² GPS Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯." : "Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… GPS.");
    return;
  }
  navigator.geolocation.getCurrentPosition(position => {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=${lang}`)
      .then(res => res.json())
      .then(data => {
        if (!data.list) throw new Error();
        searchInput.value = data.city.name;
        displayForecast(data.list);
      })
      .catch(() => {
        alert(lang === "fa" ? "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙˆÙ‚Ø¹ÛŒØª." : "Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹.");
      });
  }, () => {
    alert(lang === "fa" ? "Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø±Ø¯ Ø´Ø¯." : "ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹.");
  });
});

// Ù†Ø¸Ø±Ø§Øª
function loadComments() {
  const comments = JSON.parse(localStorage.getItem("comments") || "[]");
  commentsContainer.innerHTML = "";
  comments.forEach(c => {
    const div = document.createElement("div");
    div.className = "comment";
    div.textContent = c;
    commentsContainer.appendChild(div);
  });
}

submitCommentBtn.addEventListener("click", () => {
  const val = commentInput.value.trim();
  if (!val) {
    alert(translations[lang].alertEmptyComment);
    return;
  }
  const comments = JSON.parse(localStorage.getItem("comments") || "[]");
  comments.push(val);
  localStorage.setItem("comments", JSON.stringify(comments));
  commentInput.value = "";
  loadComments();
  alert(translations[lang].alertCommentSaved);
});

loadComments();

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø´Ù‡Ø± Ù¾ÛŒØ´ ÙØ±Ø¶
fetchWeather("Ø§Ù‡ÙˆØ§Ø²");
</script>
</body>
</html>
